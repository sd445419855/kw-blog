<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>App_打包_开发问题记录</title>
    
<style id="wiz_code_style">.wiz-editor-body .wiz-code-container{position: relative; padding:8px 0; margin: 5px 0;text-indent:0; text-align:left;}.CodeMirror {font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace; color: black; font-size: 10.5pt; font-size: 0.875rem}.wiz-editor-body .wiz-code-container .CodeMirror div {margin-top: 0; margin-bottom: 0;}.CodeMirror-lines {padding: 4px 0;}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like {padding: 0 4px;}.CodeMirror pre.CodeMirror-line {min-height: 24px;}.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {background-color: white;}.CodeMirror-gutters {border-right: 1px solid #ddd; background-color: #f7f7f7; white-space: nowrap;}.CodeMirror-linenumbers {}.CodeMirror-linenumber {padding: 0 3px 0 5px; min-width: 20px; text-align: right; color: #999; white-space: nowrap;}.CodeMirror-guttermarker {color: black;}.CodeMirror-guttermarker-subtle {color: #999;}.CodeMirror-cursor {border-left: 1px solid black; border-right: none; width: 0;}.CodeMirror div.CodeMirror-secondarycursor {border-left: 1px solid silver;}.cm-fat-cursor .CodeMirror-cursor {width: auto; border: 0 !important; background: #7e7;}.cm-fat-cursor div.CodeMirror-cursors {z-index: 1;}.cm-fat-cursor-mark {background-color: rgba(20, 255, 20, 0.5);-webkit-animation: blink 1.06s steps(1) infinite;-moz-animation: blink 1.06s steps(1) infinite;animation: blink 1.06s steps(1) infinite;}.cm-animate-fat-cursor {width: auto; border: 0; -webkit-animation: blink 1.06s steps(1) infinite; -moz-animation: blink 1.06s steps(1) infinite; animation: blink 1.06s steps(1) infinite; background-color: #7e7;}@-moz-keyframes blink {  0% {}  50% { background-color: transparent; }  100% {}}@-webkit-keyframes blink {  0% {}  50% { background-color: transparent; }  100% {}}@keyframes blink {  0% {}  50% { background-color: transparent; }  100% {}}.CodeMirror-overwrite .CodeMirror-cursor {}.cm-tab { display: inline-block; text-decoration: inherit; }.CodeMirror-rulers {position: absolute; left: 0; right: 0; top: -50px; bottom: -20px; overflow: hidden;}.CodeMirror-ruler {border-left: 1px solid #ccc; top: 0; bottom: 0; position: absolute;}.cm-s-default .cm-header {color: blue;}.cm-s-default .cm-quote {color: #090;}.cm-negative {color: #d44;}.cm-positive {color: #292;}.cm-header, .cm-strong {font-weight: bold;}.cm-em {font-style: italic;}.cm-link {text-decoration: underline;}.cm-strikethrough {text-decoration: line-through;}.cm-s-default .cm-keyword {color: #708;}.cm-s-default .cm-atom {color: #219;}.cm-s-default .cm-number {color: #164;}.cm-s-default .cm-def {color: #00f;}.cm-s-default .cm-variable,.cm-s-default .cm-punctuation,.cm-s-default .cm-property,.cm-s-default .cm-operator {}.cm-s-default .cm-variable-2 {color: #05a;}.cm-s-default .cm-variable-3 {color: #085;}.cm-s-default .cm-comment {color: #a50;}.cm-s-default .cm-string {color: #a11;}.cm-s-default .cm-string-2 {color: #f50;}.cm-s-default .cm-meta {color: #555;}.cm-s-default .cm-qualifier {color: #555;}.cm-s-default .cm-builtin {color: #30a;}.cm-s-default .cm-bracket {color: #997;}.cm-s-default .cm-tag {color: #170;}.cm-s-default .cm-attribute {color: #00c;}.cm-s-default .cm-hr {color: #999;}.cm-s-default .cm-link {color: #00c;}.cm-s-default .cm-error {color: #f00;}.cm-invalidchar {color: #f00;}.CodeMirror-composing { border-bottom: 2px solid; }div.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }.CodeMirror-activeline-background {background: #e8f2ff;}.CodeMirror {position: relative; background: #f5f5f5;}.CodeMirror-scroll {overflow: hidden !important; margin-bottom: 0; margin-right: -30px; padding: 16px 30px 16px 0; outline: none; position: relative;}.CodeMirror-sizer {position: relative; border-right: 30px solid transparent;}.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {position: absolute; z-index: 6; display: none;}.CodeMirror-vscrollbar {right: 0; top: 0; overflow-x: hidden; overflow-y: scroll;}.CodeMirror-hscrollbar {bottom: 0; left: 0 !important; overflow-y: hidden; overflow-x: scroll;pointer-events: auto !important;outline: none;}.CodeMirror-scrollbar-filler {right: 0; bottom: 0;}.CodeMirror-gutter-filler {left: 0; bottom: 0;}.CodeMirror-gutters {position: absolute; left: 0; top: 0; min-height: 100%; z-index: 3;}.CodeMirror-gutter {white-space: normal; height: 100%; display: inline-block; vertical-align: top; margin-bottom: -30px;}.CodeMirror-gutter-wrapper {position: absolute; z-index: 4; background: none !important; border: none !important;}.CodeMirror-gutter-background {position: absolute; top: 0; bottom: 0; z-index: 4;}.CodeMirror-gutter-elt {position: absolute; cursor: default; z-index: 4;}.CodeMirror-gutter-wrapper ::selection { background-color: transparent }.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }.CodeMirror-lines {cursor: text; min-height: 1px;}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like {-moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0; border-width: 0; background: transparent; font-family: inherit; font-size: inherit; margin: 0; white-space: pre; word-wrap: normal; line-height: inherit; color: inherit; z-index: 2; position: relative; overflow: visible; -webkit-tap-highlight-color: transparent; -webkit-font-variant-ligatures: contextual; font-variant-ligatures: contextual;}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like {word-wrap: break-word; white-space: pre-wrap; word-break: normal;}.CodeMirror-linebackground {position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: 0;}.CodeMirror-linewidget {position: relative; z-index: 2; padding: 0.1px;}.CodeMirror-widget {}.CodeMirror-rtl pre { direction: rtl; }.CodeMirror-code {outline: none;}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber {-moz-box-sizing: content-box; box-sizing: content-box;}.CodeMirror-measure {position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;}.CodeMirror-cursor {position: absolute; pointer-events: none;}.CodeMirror-measure pre { position: static; }div.CodeMirror-cursors {visibility: hidden; position: relative; z-index: 3;}div.CodeMirror-dragcursors {visibility: visible;}.CodeMirror-focused div.CodeMirror-cursors {visibility: visible;}.CodeMirror-selected { background: #d9d9d9; }.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }.CodeMirror-crosshair { cursor: crosshair; }.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }.cm-searching {background: #ffa; background: rgba(255, 255, 0, .4);}.cm-force-border { padding-right: .1px; }@media print {  .CodeMirror div.CodeMirror-cursors {visibility: hidden;}}.cm-tab-wrap-hack:after { content: ""; }span.CodeMirror-selectedtext { background: none; }.CodeMirror-activeline-background, .CodeMirror-selected {transition: visibility 0ms 100ms;}.CodeMirror-blur .CodeMirror-activeline-background, .CodeMirror-blur .CodeMirror-selected {visibility:hidden;}.CodeMirror-blur .CodeMirror-matchingbracket {color:inherit !important;outline:none !important;text-decoration:none !important;}.CodeMirror-sizer {min-height:auto !important;}</style><style name="wiz_code_style" id="wiz_code_style-eclipse">.cm-s-eclipse span.cm-meta { color: #FF1717; }.cm-s-eclipse span.cm-keyword { line-height: 1em; font-weight: bold; color: #7F0055; }.cm-s-eclipse span.cm-atom { color: #219; }.cm-s-eclipse span.cm-number { color: #164; }.cm-s-eclipse span.cm-def { color: #00f; }.cm-s-eclipse span.cm-variable { color: black; }.cm-s-eclipse span.cm-variable-2 { color: #0000C0; }.cm-s-eclipse span.cm-variable-3 { color: #0000C0; }.cm-s-eclipse span.cm-property { color: black; }.cm-s-eclipse span.cm-operator { color: black; }.cm-s-eclipse span.cm-comment { color: #3F7F5F; }.cm-s-eclipse span.cm-string { color: #2A00FF; }.cm-s-eclipse span.cm-string-2 { color: #f50; }.cm-s-eclipse span.cm-qualifier { color: #555; }.cm-s-eclipse span.cm-builtin { color: #30a; }.cm-s-eclipse span.cm-bracket { color: #cc7; }.cm-s-eclipse span.cm-tag { color: #170; }.cm-s-eclipse span.cm-attribute { color: #00c; }.cm-s-eclipse span.cm-link { color: #219; }.cm-s-eclipse span.cm-error { color: #f00; }.cm-s-eclipse .CodeMirror-activeline-background { background: #e8f2ff; }.cm-s-eclipse .CodeMirror-matchingbracket { outline:1px solid grey; color:black !important; }</style><style id="wiz_custom_css">html, .wiz-editor-body {font-size: 12pt;}.wiz-editor-body {font-family: Helvetica, 'Hiragino Sans GB', '微软雅黑', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;line-height: 1.7;margin: 0 auto;position:relative;padding: 20px 16px;}.wiz-editor-body h1,.wiz-editor-body h2,.wiz-editor-body h3,.wiz-editor-body h4,.wiz-editor-body h5,.wiz-editor-body h6 {margin:20px 0 10px;margin:1.25rem 0 0.625rem;padding: 0;font-weight: bold;}.wiz-editor-body h1 {font-size:20pt;font-size:1.67rem;}.wiz-editor-body h2 {font-size:18pt;font-size:1.5rem;}.wiz-editor-body h3 {font-size:15pt;font-size:1.25rem;}.wiz-editor-body h4 {font-size:14pt;font-size:1.17rem;}.wiz-editor-body h5 {font-size:12pt;font-size:1rem;}.wiz-editor-body h6 {font-size:12pt;font-size:1rem;color: #777777;margin: 1rem 0;}.wiz-editor-body div,.wiz-editor-body p,.wiz-editor-body ul,.wiz-editor-body ol,.wiz-editor-body dl,.wiz-editor-body li {margin:8px 0 0;}.wiz-editor-body blockquote,.wiz-editor-body table,.wiz-editor-body pre,.wiz-editor-body code {margin:8px 0;}.wiz-editor-body .CodeMirror pre {margin:0;}.wiz-editor-body a {word-wrap: break-word;text-decoration-skip-ink: none;}.wiz-editor-body ul,.wiz-editor-body ol {padding-left:32px;padding-left:2rem;}.wiz-editor-body ol.wiz-list-level1 > li {list-style-type:decimal;}.wiz-editor-body ol.wiz-list-level2 > li {list-style-type:lower-latin;}.wiz-editor-body ol.wiz-list-level3 > li {list-style-type:lower-roman;}.wiz-editor-body li.wiz-list-align-style {list-style-position: inside; margin-left: -1em;}.wiz-editor-body blockquote {padding: 0 12px;}.wiz-editor-body blockquote > :first-child {margin-top:0;}.wiz-editor-body blockquote > :last-child {margin-bottom:0;}.wiz-editor-body img {border:0;max-width:100%;height:auto !important;margin:2px 0;padding: 2px;vertical-align:bottom;}.wiz-editor-body table {border-collapse:collapse;border:1px solid #a7afbc;}.wiz-editor-body td,.wiz-editor-body th {padding:4px 8px;border-collapse:collapse;border:1px solid #a7afbc;min-height:28px;word-break:break-word;box-sizing: border-box;}.wiz-editor-body td > div:first-child {margin-top:0;}.wiz-editor-body td > div:last-child {margin-bottom:0;}.wiz-editor-body img.wiz-svg-image {box-shadow:1px 1px 4px #E8E8E8;}.wiz-editor-body .wiz-image-container {margin:0;max-width: 100%;display: inline-flex;flex-direction: column;}.wiz-editor-body .wiz-image-container .wiz-image-title {display:inline-block;text-align: center;color: #a7afbc;line-height: 18px;font-size: 12px;min-height: 18px;width: 100%;white-space: normal;}.wiz-hide {display:none !important;}.wiz-editor-body.wiz-editor-outline {padding-right:0; padding-left:0;}.wiz-editor-body.wiz-editor-outline .outline-container {margin:0; padding:0; line-height:1.5;}.wiz-editor-body.wiz-editor-outline .outline-container div {margin:0;}.wiz-editor-body.wiz-editor-outline .node {margin:0; padding: 0;}.wiz-editor-body.wiz-editor-outline .outline-container > .node {margin-right:24px; margin-left:30px;}.wiz-editor-body.wiz-editor-outline .node.collapsed .children {display:none;}.wiz-editor-body.wiz-editor-outline .node .row {position:relative; padding-left:26px;}.wiz-editor-body.wiz-editor-outline .node .operator-container {width:36px;position:absolute; top:4px; left:-18px;}.wiz-editor-body.wiz-editor-outline .node .operator-bar {position:absolute; top:0; left:0; right:0; bottom:0; display:flex; align-items:center; justify-content:center;}.wiz-editor-body.wiz-editor-outline .node .switch {width:18px; height:18px;display:flex;flex-direction: column;align-items: center;overflow: hidden;}.wiz-editor-body.wiz-editor-outline .node .switch i {font-size:20px;position:relative;left:-1px;top:-1px;}.wiz-editor-body.wiz-editor-outline .node .switch.active {cursor:pointer;color:transparent; transition:transform 200ms ease 0s;}.wiz-editor-body.wiz-editor-outline .node.collapsed .switch.active {transform:rotateZ(-90deg);}.wiz-editor-body.wiz-editor-outline .node .row:hover .switch.active {color:#505F79}.wiz-editor-body.wiz-editor-outline .node .dot {display:flex; align-items:center; justify-content:center; border-radius:100%; width:18px; height:18px;}.wiz-editor-body.wiz-editor-outline .node.collapsed .dot {background-color:rgba(80, 95, 121, .15);}.wiz-editor-body.wiz-editor-outline .node .dot-icon {background-color:#505F79; border-radius:100%; width:6px; height:6px;}.wiz-editor-body.wiz-editor-outline .node .child {margin-left:8px; border-left:1px solid #E6E9ED; padding-left:17px;}.wiz-editor-body.wiz-editor-outline .node .content {flex:1;outline:none; padding:4px 0;}.wiz-editor-body.wiz-editor-outline .node div.content {font-size:1rem;}.wiz-editor-body.wiz-editor-outline .node.complete > .row .content {text-decoration:line-through;color:#A7AFBC;}.wiz-editor-body.wiz-editor-outline .node .notes {outline:none; font-size:.8rem; color:#A7AFBC;}.wiz-editor-body.wiz-editor-outline .node .image {outline:none; padding-top:4px; padding-bottom:4px;}.wiz-editor-body.wiz-editor-outline .outline-container h1,.wiz-editor-body.wiz-editor-outline .outline-container h2,.wiz-editor-body.wiz-editor-outline .outline-container h3,.wiz-editor-body.wiz-editor-outline .outline-container h4,.wiz-editor-body.wiz-editor-outline .outline-container h5,.wiz-editor-body.wiz-editor-outline .outline-container h6 {margin:0;}body, .wiz-editor-body {  padding-left: 48px;  padding-right: 48px;}</style></head>

<body onload="parent.window.document.all.dd.height=document.body.scrollHeight" class="wiz-editor-body " data-wiz-document-type="common" spellcheck="false" style="opacity: 1;" ><div style="text-align: center;"><br></div><h1><b>问题：缺少 Cordova</b></h1><div>&nbsp; &nbsp;&nbsp;</div><div><b><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">问题描述：</span></b></div><div>使用打包工具打包 App 时报错，说缺少Cordova</div><div><br></div><div style="text-align: left;"><b><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">问题解法：</span></b></div><blockquote><div>用 npm 或yarn 全局安装 Cordova 即可</div></blockquote><div data-mode="Shell" data-theme="eclipse"  id="wiz_cm_1635895742006_1367" class="wiz-code-container"><textarea style="display:none;">npm install -g cordova@8.1.2</textarea><wiz_code_mirror><div class="CodeMirror cm-s-eclipse" data-id="wiz_cm_1635895742006_1367"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 20px; left: 34px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class=" wiz-hide wiz_CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class=" wiz-hide wiz_CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 32px; min-width: 222.547px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like"></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div style="position: relative;" class="CodeMirror-activeline"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">npm</span> install <span class="cm-attribute">-g</span> cordova@8.1.2</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 32px;"></div><div class="CodeMirror-gutters" style="height: 62px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><div><br></div><div>&nbsp; &nbsp;&nbsp;<span data-wiz-span="data-wiz-span" style="background-color: rgb(255, 255, 153);">注意，在当前（慧程）开发环境中，不能使用 Cordova 9.0.0，要降级为 8.1.2 或 8.0.0。</span></div><div><br></div><div style="text-align: left;"><b><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">Ref：</span></b></div><div>&nbsp; &nbsp;&nbsp;有道笔记《2020.01.12&nbsp; 打包App》<br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><h1><b>问题：</b><span>You have been opted out of telemetry</span></h1><div><br></div><div style="text-align: left;"><b><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">问题描述：</span></b></div><blockquote><div>App 每次打包时第一句话都是一个奇怪的提示：</div><div>&nbsp; &nbsp;&nbsp;You have been opted out of telemetry. To change this, run: cordova telemetry on.</div></blockquote><blockquote><blockquote><div><div><img src="App_打包_开发问题记录_files/23aaf083-cfb0-4312-937f-11b4cda89e79.png" width="601" height="247"></div></div><div><span>您已选择退出遥测。 要更改此设置，请运行：cordova telemetry on。</span></div><div><span>Cordova 版本：8.1.2</span></div></blockquote></blockquote><blockquote><div><span><br></span></div><div style="text-align: left;"><b><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">问题原因和解法：</span></b></div></blockquote><blockquote><blockquote><div>一个提示而已，无需在意。</div></blockquote></blockquote><blockquote><div><br></div><div style="text-align: left;"><b><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">Ref：</span></b></div><div>&nbsp; &nbsp;&nbsp;有道笔记《2020.01.12&nbsp; 打包App》</div></blockquote><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><h1><b>问题：</b><span>ENOENT: no such file or directory</span></h1><div><span><br></span></div><div><span><b><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">问题描述：</span></b></span></div><div>&nbsp; &nbsp; App 打包时报错：</div><blockquote><blockquote><div><span>Error: ENOENT: no such file or directory, open 'D:\2_Job\2_Code\01_Software_Project_Workspace\MOM_Project_Workspace\Cellphone_App\app-package-toolkit\platforms\ios\烟草智慧生产.xcodeproj\project.pbxproj'</span></div></blockquote></blockquote><blockquote><div><div><img src="App_打包_开发问题记录_files/e2b952fb-8ed3-4932-bbea-0ca18d43f514.png"></div></div></blockquote><div><div>&nbsp; &nbsp; 错误意思是没有这个文件或目录，路径如下： D:\......<span>。</span></div></div><div><span><br></span></div><div style="text-align: left;"><b style="font-size:1.667rem"></b><b style="font-size:1.667rem">问</b><b></b><b></b><b></b><b></b><b></b><b></b><b><span style="font-size:1.667rem" data-wiz-span="data-wiz-span">题</span></b><b><span style="font-size:1.667rem" data-wiz-span="data-wiz-span">原因：</span></b></div><div><div>&nbsp; &nbsp; 查看错误定位的路径发现，找不到文件或目录的路径指向的是 platforms 里的内容，打开发现确实没有。</div></div><div>&nbsp; &nbsp; ~/platforms<br></div><blockquote><div><div><img src="App_打包_开发问题记录_files/ed590b03-239d-4ae7-8a2d-d68a343734b6.png" width="645" height="101"></div></div></blockquote><div><div>&nbsp; &nbsp; ~<span>/platforms/ios</span><br></div></div><blockquote><div><div><div><img src="App_打包_开发问题记录_files/de1912ec-3235-407e-a9a1-7ff525d9d8eb.png" width="629" height="261"></div></div></div><div><span>那么怎么让它有呢？回忆以前的打包经历，这个 platforms 文件夹会自动生成，也经常会删除它。那么删除它试试？一试果然成功了。看来这个文件夹的内容不会局部更新，每次打包新项目时，需要删除这个目录，让 Cordova 重新下载 platform 并生成项目相关的文件。</span></div><div><span><br></span></div></blockquote><div style="text-align: left;"><b><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">问题解法：</span></b></div><blockquote></blockquote><div>&nbsp; &nbsp; 删除 ~/platforms 目录。</div><blockquote></blockquote><div><div><div><br></div></div><div><br></div></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><h1><b>问题：</b><span>Failed to find 'ANDROID_HOME' environment variable.</span></h1><div><span><br></span></div><div><span><b><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">问题描述：</span></b></span></div><div>&nbsp; &nbsp; 解决 ~/platforms 目录引发的问题后再次打包 App，又<span>报错了：</span><span><b><br></b></span></div><div>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;Failed to find 'ANDROID_HOME' environment variable. Try setting it manually.</div><div>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;Failed to find 'android' command in your 'PATH'. Try update your 'PATH' to include path to valid SDK directory.</div><blockquote><blockquote><div><div><img src="App_打包_开发问题记录_files/944231c8-6fec-494c-92d7-ab926c45c79b.png" width="971" height="153"></div><div><span>错误中文意思：&nbsp; &nbsp;</span></div></div><div>&nbsp; &nbsp; 未能找到“<span>ANDROID_HOME”环境变量。尝试手动设置它。</span></div><div><span>&nbsp; &nbsp; 未能</span><span>在你的“PATH”中</span><span>找到“android”命令，尝试更新你的“PATH”，以包含有效的 SDK 目录的路径。</span></div></blockquote></blockquote><div><br></div><div style="text-align: left;"><b><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">问题原因：</span></b></div><div>&nbsp; &nbsp; 从错误提示中可以很明显地看出原因是缺少 Android 的 SDK 和环境变量。<br></div><div><span>&nbsp; &nbsp; 回想以前的经历，我想</span><span>这可能就是吴越昊说的要安装一下 Android Studio 来搞一下环境的原因。安装 Android Studio 的目的我想应该就是部署打包 Android&nbsp; App 所需的部分环境。&nbsp;</span><br></div><div><span><br></span></div><div><br></div><div><span data-wiz-span="data-wiz-span" style="color: rgb(255, 255, 255); background-color: rgb(0, 147, 0);">Tips：</span></div><blockquote><div><span data-wiz-span="data-wiz-span" style="color: rgb(255, 255, 255); background-color: rgb(0, 147, 0);">以上均问题为以前在慧程搞 App 时遇到的问题。</span></div></blockquote><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><div><b><h1>问题：process.env 获取不到修改后的环境变量</h1></b></div><div><br></div><div style="text-align: left;"><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">问题描述：</span></b></div><div>在给打包工具指定 Gradle 文件路径时，需要给一变量设置文件路径，结果设置第一次可以用<span>&nbsp;</span><span>process.env<span>&nbsp;看到，第二次以后就看不到了，直接消失了。而且不论新增还是修改变量都看不到了。这些都是在&nbsp;</span></span><span>Git Bash Here 上运行的。如果使用&nbsp;</span><span><span>&nbsp;</span>Win + R<span>&nbsp;打开 git bash，就能看到了，并且这个场景下即使进入打包工具的目录下也能看到了。</span></span></div><div>打开其他文件夹，在其他文件夹上<span>&nbsp;</span><span>Git Bash Here<span>&nbsp;，发现又可以了。</span></span></div><div>给 git-bash.exe 设置管理员身份启动也无济于事。</div><div><br></div><div style="text-align: left;"><span><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">问题原因和解法：</span></b></span></div><div>这时候你用 Win + R 执行 git-bash 打开 Git Bash，再看看&nbsp;<span>process.env<span>&nbsp;能否看到修改后的环境变量。如果可以，那就把&nbsp;</span></span><span>Git Bash Here 的那个文件夹（资源管理器）关掉重开。再试试，应该就好了。</span></div><div><span>具体原因搞不清楚，反正不是管理员权限问题。为什么这么肯定？如果是管理员权限问题，那么系统变量就应该看不见，但是实际全都看见了。</span></div><div><span>可能是 git-bash 出了点故障，也可能是资源管理器出了点鼓掌，导致最初打开的那个打包工具的文件夹出了故障，导致打开那个文件夹的资源管理器的 git bash here 里用 process.env 都看不到改变后的环境变量。</span></div><div>这个故障可能给是当时设置环境变量的值时，里面有特殊符号，如“file\\://.....”，于是这对 process.env 产生了影响。</div><div style="text-align: center;"><div><img src="App_打包_开发问题记录_files/f8cb7466-7ba6-41df-9691-0f929a267934.png"></div></div><div style="text-align: center;"><div>图 - 修改后的环境变量</div></div><div style="text-align: center;"><br></div><div><br></div></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><h1><b>问题 ：<span>A problem occurred configuring root project 'android'</span></b></h1><div><div style="text-align: left;"><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;"><br></span></b></div><div style="text-align: left;"><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">1、问题描述：</span></b></div><div>为 Cordova （Gradle Wrapper）指定并下载、安装好&nbsp;<span>Cordova<span>&nbsp;专用的</span></span> Gradle后，继续后续打包工作——cordova build android，这时候 Console 报错了：</div></div><blockquote></blockquote><div data-mode="Shell" data-theme="eclipse"  id="wiz_cm_1638456961514_2065" class="wiz-code-container"><textarea style="display:none;">A problem occurred configuring root project 'android'.
&gt; Could not resolve all files for configuration ':classpath'.
   &gt; Could not resolve com.android.tools.build:gradle:3.0.1.
     Required by:
         project :
      &gt; Could not resolve com.android.tools.build:gradle:3.0.1.
         &gt; Could not get resource 'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'.</textarea><wiz_code_mirror><div class="CodeMirror cm-s-eclipse" data-id="wiz_cm_1638456961514_2065"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 20px; left: 34px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class=" wiz-hide wiz_CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class=" wiz-hide wiz_CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 0px; left: 0px; height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 922px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 176px; min-width: 892.219px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like"></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>7</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><div style="position: relative;" class="CodeMirror-activeline"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">A problem occurred configuring root project <span class="cm-string">'android'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">&gt; Could not resolve all files <span class="cm-keyword">for</span> configuration <span class="cm-string">':classpath'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">   &gt; Could not resolve com.android.tools.build:gradle:3.0.1.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">     Required by:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">         project :</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">      &gt; Could not resolve com.android.tools.build:gradle:3.0.1.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">         &gt; Could not <span class="cm-builtin">get</span> resource <span class="cm-string">'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'</span>.</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="height: 206px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><blockquote><div><span style="">译：</span><br></div><div><span style="background-color: rgb(245, 245, 245);" data-wiz-span="data-wiz-span">配置根项目“android”时出现问题。<br></span></div><div><span data-wiz-span="data-wiz-span" style="background-color: rgb(245, 245, 245);">&gt; 无法解析配置 ':classpath' 的所有文件。</span></div><div><span data-wiz-span="data-wiz-span" style="background-color: rgb(245, 245, 245);">&nbsp; &nbsp; &gt; 无法解析 com.android.tools.build:gradle:3.0.1。</span></div><div><span data-wiz-span="data-wiz-span" style="background-color: rgb(245, 245, 245);">&nbsp; &nbsp; &nbsp; （被）要求/依赖：</span></div><div><span data-wiz-span="data-wiz-span" style="background-color: rgb(245, 245, 245);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 项目 ：</span></div><div><span data-wiz-span="data-wiz-span" style="background-color: rgb(245, 245, 245);">&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&gt; 无法解析 com.android.tools.build:gradle:3.0.1。</span></div><div><span data-wiz-span="data-wiz-span" style="background-color: rgb(245, 245, 245);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &gt; 无法获取资源“https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom”。</span></div><div><br></div></blockquote><div>错误日志如下：</div><div data-mode="YAML" data-theme="eclipse"  id="wiz_cm_1638456456568_9357" class="wiz-code-container"><textarea style="display:none;">$ cordova build android

Android Studio project detected
ANDROID_HOME=D:\1_System\1_Installation\1_SDE\Android\SDK_Tools\android-sdk-windows
JAVA_HOME=D:\Program Files\Java\jdk1.8.0_201
studio
Subproject Path: CordovaLib
Subproject Path: app
Downloading file:/D:/1_System/1_Installation/2_SDT/Gradle/gradle-4.1-all.zip
.....................................................................................
Unzipping D:\1_System\1_Installation\2_SDT\Gradle\Gradle_User_Home\wrapper\dists\gradle-4.1-all\dg1ifim0ys6cvziq4prn
9ep48\gradle-4.1-all.zip to D:\1_System\1_Installation\2_SDT\Gradle\Gradle_User_Home\wrapper\dists\gradle-4.1-all\dg
1ifim0ys6cvziq4prn9ep48
Starting a Gradle Daemon (subsequent builds will be faster)

FAILURE: Build failed with an exception.

* What went wrong:
A problem occurred configuring root project 'android'.
&gt; Could not resolve all files for configuration ':classpath'.
   &gt; Could not resolve com.android.tools.build:gradle:3.0.1.
     Required by:
         project :
      &gt; Could not resolve com.android.tools.build:gradle:3.0.1.
         &gt; Could not get resource 'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'.
            &gt; Could not GET 'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'.
               &gt; Connect to maven.google.com:443 [maven.google.com/172.217.24.14] failed: Connection timed out: connect

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.

* Get more help at https://help.gradle.org

BUILD FAILED in 40s
cmd: Command failed with exit code 1 Error output:
FAILURE: Build failed with an exception.

* What went wrong:
A problem occurred configuring root project 'android'.
&gt; Could not resolve all files for configuration ':classpath'.
   &gt; Could not resolve com.android.tools.build:gradle:3.0.1.
     Required by:
         project :
      &gt; Could not resolve com.android.tools.build:gradle:3.0.1.
         &gt; Could not get resource 'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'.
            &gt; Could not GET 'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'.
               &gt; Connect to maven.google.com:443 [maven.google.com/172.217.24.14] failed: Connection timed out: conn
ect

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.

* Get more help at https://help.gradle.org

BUILD FAILED in 40s
</textarea><wiz_code_mirror><div class="CodeMirror cm-s-eclipse" data-id="wiz_cm_1638456456568_9357"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 20px; left: 34px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class=" wiz-hide wiz_CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class=" wiz-hide wiz_CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 0px; left: 0px; height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 953px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 1352px; min-width: 923.016px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like"></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>56</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><div style="position: relative;" class="CodeMirror-activeline"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">$ cordova build android</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right:0.1px"></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">Android Studio project detected</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">ANDROID_HOME=D:\1_System\1_Installation\1_SDE\Android\SDK_Tools\android-sdk-windows</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">JAVA_HOME=D:\Program Files\Java\jdk1.8.0_201</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">studio</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">Subproject Path</span><span class="cm-meta">: </span>CordovaLib</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">8</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">Subproject Path</span><span class="cm-meta">: </span>app</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">9</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">Downloading file:/D:/1_System/1_Installation/2_SDT/Gradle/gradle-4.1-all.zip</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">10</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">...</span>..................................................................................</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">11</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">Unzipping D:\1_System\1_Installation\2_SDT\Gradle\Gradle_User_Home\wrapper\dists\gradle-4.1-all\dg1ifim0ys6cvziq4prn</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">12</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">9ep48\gradle-4.1-all.zip to D:\1_System\1_Installation\2_SDT\Gradle\Gradle_User_Home\wrapper\dists\gradle-4.1-all\dg</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">13</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">1ifim0ys6cvziq4prn9ep48</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">14</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">Starting a Gradle Daemon (subsequent builds will be faster)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">15</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right:0.1px"></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">16</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">FAILURE</span><span class="cm-meta">: </span>Build failed with an exception.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">17</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right:0.1px"></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">18</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">*<span class="cm-atom"> What went wrong</span><span class="cm-meta">:</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">19</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">A problem occurred configuring root project <span class="cm-string">'android'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">20</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">&gt; Could not resolve all files for configuration <span class="cm-string">':classpath'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">21</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">   &gt; Could not resolve com.android.tools.build:gradle:3.0.1.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">22</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">     Required by</span><span class="cm-meta">:</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">23</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">         project</span> <span class="cm-meta">:</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">24</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">      &gt; Could not resolve com.android.tools.build:gradle:3.0.1.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">25</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">         &gt; Could not get resource <span class="cm-string">'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">26</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">            &gt; Could not GET <span class="cm-string">'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">27</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">               &gt; Connect to maven.google.com:443 [maven.google.com/172.217.24.14] failed</span><span class="cm-meta">: </span>Connection timed out<span class="cm-meta">: </span>connect</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">28</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right:0.1px"></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">29</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">*<span class="cm-atom"> Try</span><span class="cm-meta">:</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">30</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">31</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right:0.1px"></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">32</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">* Get more help at https://help.gradle.org</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">33</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right:0.1px"></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">34</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">BUILD FAILED in 40s</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">35</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">cmd</span><span class="cm-meta">: </span>Command failed with exit code 1 Error output<span class="cm-meta">:</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">36</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">FAILURE</span><span class="cm-meta">: </span>Build failed with an exception.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">37</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right:0.1px"></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">38</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">*<span class="cm-atom"> What went wrong</span><span class="cm-meta">:</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">39</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">A problem occurred configuring root project <span class="cm-string">'android'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">40</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">&gt; Could not resolve all files for configuration <span class="cm-string">':classpath'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">41</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">   &gt; Could not resolve com.android.tools.build:gradle:3.0.1.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">42</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">     Required by</span><span class="cm-meta">:</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">43</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">         project</span> <span class="cm-meta">:</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">44</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">      &gt; Could not resolve com.android.tools.build:gradle:3.0.1.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">45</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">         &gt; Could not get resource <span class="cm-string">'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">46</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">            &gt; Could not GET <span class="cm-string">'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">47</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">               &gt; Connect to maven.google.com:443 [maven.google.com/172.217.24.14] failed</span><span class="cm-meta">: </span>Connection timed out<span class="cm-meta">: </span>conn</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">48</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">ect</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">49</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right:0.1px"></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">50</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">*<span class="cm-atom"> Try</span><span class="cm-meta">:</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">51</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">52</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right:0.1px"></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">53</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">* Get more help at https://help.gradle.org</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">54</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right:0.1px"></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">55</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">BUILD FAILED in 40s</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">56</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right:0.1px"></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 1352px;"></div><div class="CodeMirror-gutters" style="height: 1382px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><blockquote><blockquote><div><span data-wiz-span="data-wiz-span" style="background-color: rgb(60, 179, 113); color: rgb(255, 255, 255);"><br></span></div><div><span data-wiz-span="data-wiz-span" style="background-color: rgb(60, 179, 113); color: rgb(255, 255, 255);"><br></span></div></blockquote></blockquote><div style="text-align: left;"><span style="" data-wiz-span="data-wiz-span"><b style=""><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;">2、问题原因：</span></b><br></span></div><div style="text-align: left;"><span style="" data-wiz-span="data-wiz-span"><br></span></div><div style="text-align: left;"><span style="" data-wiz-span="data-wiz-span"><b><span data-wiz-span="data-wiz-span" style="font-size: 1.5rem;">2.1、原因分析：</span></b></span></div><blockquote><blockquote><div style="text-align: left;"><span style="" data-wiz-span="data-wiz-span"><br></span></div></blockquote></blockquote><div style="text-align: left;"><span style="" data-wiz-span="data-wiz-span">上述日志中，同一个错误出现了 2 遍。这是为什么呢？</span></div><div style="text-align: left;"><span style="" data-wiz-span="data-wiz-span">不知道，反正类似这样的 build 过程中的错误总是出线 2 次，实践证明这并不重要。</span></div><div style="text-align: left;"><br></div><div>这句应该是关键：</div><blockquote style=""><div style="text-align: left;"><span data-wiz-span="data-wiz-span" style="background-color: rgb(245, 245, 245);">Could not get resource 'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'.</span></div></blockquote><div><br></div><div>分析整个错误日志发现，错误日志中从上到下的每条错误是层层递进，层层深入的关系，即当前错误由下面的错误引起，以此类推。</div><div>搞清楚了错误的关系，就不难看出问题根源在哪。<span style="">所以，</span><span style="">其实日志的最后一句才是关键：</span></div><blockquote><div style="text-align: left;"><span data-wiz-span="data-wiz-span" style="background-color: rgb(245, 245, 245);">Connect to maven.google.com:443 [maven.google.com/142.251.43.14] failed: Connection timed out: connect</span></div></blockquote><div>意思是连接 <span>maven.google.com&nbsp;</span>超时了。</div><div>为什么会超时？凭借以往的经验不难猜出，是 google 上的 maven 仓库被墙了引起的。</div><div><br></div><div><div><div><div><div><div><div><span>修改 build.gradle<span>&nbsp;中的远程仓库为阿里的库后，</span></span><span>问题解决，程序进入了</span><span>打包流程的</span><span>下一步。</span></div><div><span><br></span></div></div></div></div></div></div></div><div><div><div><blockquote><br></blockquote><div><div><br></div></div></div></div></div><div><br></div><div><br></div><div style="text-align: left;"><span style=""><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.5rem;">2.2、分析结论：</span></b></span></div><div><br></div><div>问题的根源是</div><div><blockquote style=""><div><span data-wiz-span="data-wiz-span" style="background-color:rgb(245, 245, 245);">Connect to maven.google.com:443 [maven.google.com/142.251.43.14] failed: Connection timed out: connect</span></div></blockquote><div style="">意思是连接<span>&nbsp;</span><span>maven.google.com&nbsp;</span>超时了，应该<span style="">是 google 上的 maven 仓库被墙了引起的。</span></div></div><div><br></div><div><br></div><div><br></div><div><b style=""><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;">3、问题解法：</span></b></div><div><div style=""><span style=""><br></span></div><div style=""><span style="">办法就是把 google、jcenter、maven 的 maven 仓库改为阿里的仓库。</span></div><div style=""><span style=""><div style=""><div><div>主要是修改项目里 build.gradle 脚本中对仓库的配置。</div></div></div></span></div></div><blockquote style=""><div><div style=""><span style=""><div style=""><div><div><span data-wiz-span="data-wiz-span" style="background-color:rgb(0, 147, 0);color:rgb(255, 255, 255);">Tisp：</span></div></div></div></span></div></div><div><div style=""><span style=""><blockquote style=""><div><div><div><div><div><div><span data-wiz-span="data-wiz-span" style="background-color:rgb(0, 147, 0);color:rgb(255, 255, 255);">关于&nbsp;build.gradle 文件内容的意义见当前笔记</span><span data-wiz-span="data-wiz-span" style="background-color:rgb(255, 255, 0);"><u><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span data-wiz-span="data-wiz-span" style="background-color:rgb(0, 147, 0);color:rgb(255, 255, 255);">《build.gradle 的概念：》</span></span></span></span></span></span></span></span></span></span></span></u></span></div></div></div></div></div></div></blockquote></span></div></div></blockquote><div><div style=""><span style=""><br></span></div><div style=""><span style=""><br></span></div><div style=""><b>局部作用的修改方法：</b></div></div><blockquote style=""><div><div style=""><span style="">修改 Android 项目目录下根、app、CordovaLib 3 个目录下的 build.gradle 的远程仓库配置：</span></div></div></blockquote><div><div style=""><br></div><div style=""><b>全局作用的修改方法：</b></div></div><blockquote style=""><div><div style="">%<span style="">GRADLE_USER_HOME</span>% 目录下修改 init.gradle 文件，修改仓库相关配置。</div></div></blockquote><div><div style=""><br></div><div style=""><br></div><div style="">具体修改方法见笔记<a href="/views/技术总结/前端技术/为知笔记/部署_Cordova_所需的工具、环境的详细说明.html">《<span style="">Maven 仓库 &gt; 3、配置作用范围 &gt; 3.2、Gradle 项目</span>》</a>。</div></div><div><div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><div><blockquote><br></blockquote><blockquote><br></blockquote></div></div></div></div><div><div><div><div><br></div></div></div><div><br></div><div><br></div><div><br></div><div><br></div><h1>问题：<span>&nbsp;改阿里仓库后 jcenter 仓库下依赖包时一直卡住到报错</span></h1><div><br></div><div style="text-align: left;"><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">1、问题描述：</span></b></div><div>在我先修改了根目录的 build.gradle 里的 google 地址为 ali 之后（仅 googel， 没有改 jcenter），速度快了很多，也用 ali</div><div style="text-align: left;">&nbsp;的仓库下了很多东西，过了一小会儿，开始用 jcenter 仓库下东西，开始挺好，但是下了几个之后就卡主不动，一直到报错。</div><div style="text-align: left;"><div><div style="text-align: center;"><img src="App_打包_开发问题记录_files/8c57df5f-9a6c-4c36-878f-3c6b6d3e2c35.png"></div><div style="text-align: center;"><span>图 - 一部分类库去 jCenter 上下载了</span></div></div><div><span style=""><br></span></div><div><span style="">我推测是 jcenter 网不行，于是就把 jcenter 也改成 ali 的 jcenter 库。</span></div><div><span style=""><div><div><div><div><div><div><div>怎么换呢？当然不是<br></div></div></div></div></div></div></div></span></div></div></div><div data-mode="Shell" data-theme="eclipse"  id="wiz_cm_1638895952689_4912" class="wiz-code-container"><textarea style="display: none;">jcenter {url: ........}</textarea><wiz_code_mirror><div class="CodeMirror cm-s-eclipse" data-id="wiz_cm_1638895952689_4912"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 20px; left: 34px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class=" wiz-hide wiz_CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class=" wiz-hide wiz_CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 32px; min-width: 184.047px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like"></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div style="position: relative;" class="CodeMirror-activeline"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">jcenter {url: ........}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 32px;"></div><div class="CodeMirror-gutters" style="height: 62px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><div><div style="text-align: left;"><div><span style=""><div><div><div><div><div><div><div>而是跟 maven 一样：</div></div></div></div></div></div></div></span></div></div></div><div data-mode="Shell" data-theme="eclipse"  id="wiz_cm_1638895952669_6123" class="wiz-code-container"><textarea style="display: none;">maven {url: ........}</textarea><wiz_code_mirror><div class="CodeMirror cm-s-eclipse" data-id="wiz_cm_1638895952669_6123"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 20px; left: 34px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class=" wiz-hide wiz_CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class=" wiz-hide wiz_CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 32px; min-width: 168.656px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like"></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div style="position: relative;" class="CodeMirror-activeline"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">maven {url: ........}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 32px;"></div><div class="CodeMirror-gutters" style="height: 62px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><div><div style="text-align: left;"><div><span style=""><div><div><div><div><div>这是为什么呢？因为 jCentere 也是 Maven 存储库类型，原因详见：</div></div><blockquote><div><a href="https://blog.csdn.net/baidu_25797177/article/details/87076282">《Android Studio项目build.gradle更换阿里仓库镜像》</a><br></div><div><a href="https://www.thinbug.com/q/50180568" style="text-decoration-skip-ink:none;">《<span style="color:rgb(0, 0, 0);">thinbug - gradle jcenter替代或镜子</span>》</a><a href="https://www.thinbug.com/q/50180568" style="text-decoration-skip-ink:none;">《<span style="color:rgb(0, 0, 0);">thinbug - gradle jcenter替代或镜子</span>》</a></div><div><div><div><br></div></div></div></blockquote></div></div></div></span></div></div><div style="text-align: left;">但是这时候问题来了，这次 build 的时候啥也没下，就在&nbsp;<span style="background-color:rgb(222, 222, 222)" data-wiz-span="data-wiz-span">Starting a Cradle Daemon……</span><span> 之后卡半天，然后报错：&nbsp;</span></div></div><blockquote style=""><div><div><div style="text-align: left;"><span style="background-color: rgb(222, 222, 222);" data-wiz-span="data-wiz-span">Could not get .....maven.google.com....gradle-3.0.1.pom。</span></div></div></div></blockquote><div><div><div><div><div style="text-align: center;"><img src="App_打包_开发问题记录_files/62a34808-e50c-467f-a169-3a96979168aa.png"></div><div style="text-align: center;">图 - 报错信息</div></div></div><div><div><div style="text-align: center;"><br></div></div></div><span><br></span></div><div><span><br></span></div><div><span><br></span></div><div style="text-align: left;"><span><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">2、问题原因：</span></b></span></div><div><span data-wiz-span="data-wiz-span" style="font-size: 1.333rem;"><b><br></b></span></div><div><span data-wiz-span="data-wiz-span" style="font-size: 1.333rem;"><b>2.1、原因分析：</b></span></div><div><span>我推测仅仅改 根目录的 build.gradle 里的仓库配置是不够的，这个问题应该是 app 目录下单的 build.gradle 没改仓库配置引起的。于是我把这个 </span><span>build.gradle&nbsp;</span><span>也改了，可还是不行。</span></div><div><span><div><span><br></span></div><div style="text-align: left;"><span>我推测阿里的这个地址下不到这个包，地址估计又变了。于是上阿里仓库上查找报错的这个依赖包<span>&nbsp;</span><span data-wiz-span="data-wiz-span" style="color:rgb(255, 104, 32);">com.android.tools.build: gradle: 3.0.1</span><span>&nbsp;</span>，发现它和它相关的文件分别在<span>&nbsp;</span><span data-wiz-span="data-wiz-span" style="color:rgb(255, 104, 32);">google<span>&nbsp;</span></span>库 和<span>&nbsp;</span><span data-wiz-span="data-wiz-span" style="color:rgb(255, 104, 32);">jcenter<span>&nbsp;</span></span>库，</span><span>而我只配置了一个仓库 </span><span style="color:rgb(255, 104, 32)" data-wiz-span="data-wiz-span">public。</span></div><div style="text-align: left;"><span>难怪下一会儿又卡住了，</span><span style="">阿里云这家伙太阴了，又把调整仓库了。网上说是&nbsp;</span><span style="color:rgb(255, 104, 32)">public </span><span style="" data-wiz-span="data-wiz-span">库&nbsp;=</span><span style="color:rgb(255, 104, 32)">&nbsp;</span><span style="color:rgb(255, 104, 32)">google&nbsp;</span><span style="">库</span><span style="color:rgb(255, 104, 32)">&nbsp;</span><span style="" data-wiz-span="data-wiz-span">+</span><span style="color:rgb(255, 104, 32)"> jcenter&nbsp;</span><span style="">库</span><span style="" data-wiz-span="data-wiz-span">，其实不然，因为有的包都分散地存放并且只存放在 </span><span style="color:rgb(255, 104, 32)" data-wiz-span="data-wiz-span">google&nbsp;</span><span style="" data-wiz-span="data-wiz-span">和&nbsp;</span><span style="color:rgb(255, 104, 32)" data-wiz-span="data-wiz-span">jcenter</span><span style="" data-wiz-span="data-wiz-span"> 库里。</span></div><div><span>用&nbsp;</span><span data-wiz-span="data-wiz-span" style="color:rgb(255, 104, 32);">google</span>、<span data-wiz-span="data-wiz-span" style="color:rgb(255, 104, 32);">jcenter</span><span>&nbsp;</span>替换掉&nbsp;<span style="color: rgb(255, 104, 32);">public&nbsp;</span><span style="">后，程序终于不再卡顿着直到报错，而是开始大量下载依赖包了。nice！</span></div><div><br></div></span></div></div><div><div style="text-align: left;"><span style=""><br></span></div><div style="text-align: left;"><span style=""><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.333rem;">2.2、分析结论：</span></b></span></div><div style="text-align: left;"><span style="">问题的原因是在阿里的仓库上，有的依赖包的相关文件分散存放且只存放在</span><span style="">&nbsp;</span><span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">google<span>&nbsp;</span></span><span style="">库 和</span><span style="">&nbsp;</span><span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">jcenter<span>&nbsp;</span></span><span style="">库，</span><span style="">而我只配置了一个仓库<span>&nbsp;</span></span><span style="color:rgb(255, 104, 32)" data-wiz-span="data-wiz-span">public&nbsp;</span><span style="" data-wiz-span="data-wiz-span">。这样的依赖包有&nbsp;</span><span style="color:rgb(255, 104, 32)" data-wiz-span="data-wiz-span">com.android.tools.build: gradle: 3.0.1</span><span style="" data-wiz-span="data-wiz-span">&nbsp;。</span></div><div style="text-align: left;"><span style=""><div style=""><span><div><div><div><div><div><div>其实，这都是因为没有用一步到位的、全局的“<font color="#ff6820">釜底抽薪</font>”法修改原始仓库配置，关于<span style="">“</span><font color="#ff6820" style="">釜底抽薪</font><span style="">”法</span>详见笔记《<a href="/views/技术总结/前端技术/为知笔记/部署_Cordova_所需的工具、环境的详细说明.html" style="text-decoration-skip-ink:none;">部署 Cordova 所需的工具、环境的详细说明</a>》之《Gradle 的安装与配置 &gt; Maven 仓库》。<br></div></div></div><blockquote><br></blockquote><blockquote></blockquote></div></div></div></span></div></span></div><div style="text-align: left;"><br></div><div style="text-align: left;"><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">3、问题解法：</span></b></div><div style="text-align: left;"><span style="">用阿里的&nbsp;</span><span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">google</span><span style="">、</span><span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">jcenter</span><span style="">&nbsp;</span><span style="">替换掉原有所有仓库。</span></div><div style="text-align: left;"><br></div><div style="text-align: left;"><br></div><div style="text-align: left;"><br></div><div style="text-align: left;"><br></div><div style="text-align: left;"><br></div><div style="text-align: left;"><br></div><div style="text-align: left;"><br></div><div style="text-align: left;"><br></div><div style="text-align: left;"><div style=""><div><span><br></span></div><h1 style="font-size: 1.67rem;">问题：A problem occurred configuring project ':CordovaLib'.</h1><div><span><br></span></div><div><span style="font-size:1.667rem" data-wiz-span="data-wiz-span"><b>1、问题描述：</b></span></div><div><span>在上面的问题解决后，虽然</span><span>是开始大量下载依赖包了，但是马上又卡住了。</span><span><br></span></div><div><span>可是这时候即使做了如下尝试：</span></div><div><ul><li><span>改阿里旧仓库地址为新仓库地址</span></li><li><span>删 platform 文件</span></li><li><span>结束所有 java 进程</span></li><li><span>结束 gradle Daemon（gradle --stop）</span></li><li><span>清理 Cordova 缓存（cordovo cache clean）</span></li></ul></div><div>都还是一直卡住直到报错。</div><div>错误的情况跟是：</div></div></div></div><blockquote style=""><div><div style="text-align: left;"><div style=""><div><div><div><div><div><div>程序总会在“<span><span>&nbsp;</span>Starting a Gradle Daemon</span>” 后卡主半天，直到报下面的错误：</div></div></div></div></div></div></div></div></div></blockquote><div data-mode="Shell" data-theme="eclipse"  id="wiz_cm_1638892408681_2160" class="wiz-code-container"><textarea style="display: none;">* What went wrong:
A problem occurred configuring project ':CordovaLib'.
&gt; Could not resolve all files for configuration ':CordovaLib:classpath'.
   &gt; Could not resolve com.android.tools.build:gradle:3.0.1.
     Required by:
         project :CordovaLib
      &gt; Could not resolve com.android.tools.build:gradle:3.0.1.
         &gt; Could not get resource 'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'.
            &gt; Could not HEAD 'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'.
               &gt; Connect to maven.google.com:443 [maven.google.com/172.217.160.110] failed: Connection timed out: connect</textarea><wiz_code_mirror><div class="CodeMirror cm-s-eclipse" data-id="wiz_cm_1638892408681_2160"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 20px; left: 34px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class=" wiz-hide wiz_CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class=" wiz-hide wiz_CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 0px; left: 0px; height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 968px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 248px; min-width: 938.375px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like"></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>10</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><div style="position: relative;" class="CodeMirror-activeline"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">* What went wrong:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">A problem occurred configuring project <span class="cm-string">':CordovaLib'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">&gt; Could not resolve all files <span class="cm-keyword">for</span> configuration <span class="cm-string">':CordovaLib:classpath'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">   &gt; Could not resolve com.android.tools.build:gradle:3.0.1.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">     Required by:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">         project :CordovaLib</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">      &gt; Could not resolve com.android.tools.build:gradle:3.0.1.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">8</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">         &gt; Could not <span class="cm-builtin">get</span> resource <span class="cm-string">'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">9</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">            &gt; Could not HEAD <span class="cm-string">'https://maven.google.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">10</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">               &gt; Connect to maven.google.com:443 [maven.google.com/172.217.160.110] failed: Connection timed out: connect</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 248px;"></div><div class="CodeMirror-gutters" style="height: 278px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><div><div style="text-align: left;"><div style=""><br></div></div></div><div><div style="text-align: left;"><div style=""><div><br></div><div style="text-align: left;"><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">2、问题原因：</span></b></div><div><span data-wiz-span="data-wiz-span" style="font-size: 1.5rem;"><b>2.1、原因分析：</b></span></div><div><span data-wiz-span="data-wiz-span">这到底是仓库配置的问题，还是反反复复这样改、报错把程序搞崩溃了呢？</span></div><div><span data-wiz-span="data-wiz-span">搞不清楚，先往下排查。</span></div><div><div style=""><div><span data-wiz-span="data-wiz-span" style="background-color:rgb(60, 179, 113);color:rgb(255, 255, 255);"><b>Tips：</b></span></div></div><blockquote style=""><font color="#ffffff"><span style="background-color: rgb(60, 179, 113);">后期排查发现，不是反反复复的改仓库的原因。</span></font></blockquote></div></div></div><div style="text-align: left;"><br></div><div style="text-align: left;"><div style=""><div><div><div><div><div>错误的关键信息应该是：</div></div></div></div></div></div><blockquote style=""><div><div><div><div><div><div><span style="background-color:rgb(222, 222, 222);">Could not get .....maven.google.com....gradle-3.0.1.pom。</span></div></div></div></div></div></div></blockquote></div><div style="text-align: left;"><br></div><div style="text-align: left;"><span style="">报错前控制台显示的最后一个 Download 的地址是：</span><br></div><div style="text-align: left;"><div style=""><blockquote><blockquote><div><div><a href="https://maven.aliyun.com/repository/public/com/android/databinding/baseLibrary/3.0.1/baseLibrary-3.0.1.jar" style="text-decoration-skip-ink:none;">https://maven.aliyun.com/repository/public/com/android/databinding/baseLibrary/3.0.1/baseLibrary-3.0.1.jar</a></div></div></blockquote></blockquote><div><div><br></div><div><span>用</span><span>浏览器</span><span>从这个 url 下载文件</span><span>，浏览器迅速下载好了该包。</span></div><div><span><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span"><span id="wizkm_highlight_tmp_span">用 curl 从这个 url 下载文件，发现这个 url 被重定向到一个新 url 上了。</span></span></span></span></span></span></span></span></div><div><span><br></span></div><div><span data-wiz-span="data-wiz-span" style="background-color:rgb(60, 179, 113);color:rgb(255, 255, 255);"><b>Tips：</b></span></div></div><blockquote><div><div><span><div><span data-wiz-span="data-wiz-span" style="background-color:rgb(60, 179, 113);color:rgb(255, 255, 255);">关于&nbsp;curl&nbsp;下载阿里云 maven 仓库上的依赖包为 0 kb 的问题，见笔记</span></div></span></div></div><div><div><span><blockquote><div><span data-wiz-span="data-wiz-span" style="background-color:rgb(60, 179, 113);color:rgb(255, 255, 255);">《</span><a href="/views/技术总结/前端技术/为知笔记/Linux_基础知识（index）.html" style="text-decoration-skip-ink:none;"><span data-wiz-span="data-wiz-span" style="background-color:rgb(60, 179, 113);color:rgb(255, 255, 255);">Linux_基础知识（index）</span></a><span data-wiz-span="data-wiz-span" style="background-color:rgb(60, 179, 113);color:rgb(255, 255, 255);">》之</span><a href="/views/技术总结/前端技术/为知笔记/Linux_基础知识（index）.html" style="text-decoration-skip-ink:none;"><span data-wiz-span="data-wiz-span" style="background-color:rgb(60, 179, 113);color:rgb(255, 255, 255);">《问题：curl 下载阿里云 maven 仓库上的依赖包为 0 kb》》</span></a></div></blockquote></span></div></div></blockquote><br><div><div><span style="">这难道就是问题的原因？重定向会影响 Gradle 下载依赖包？不知道，先往下查。</span></div></div><div><span style=""><br></span></div></div></div></div><font color="#ffffff"><span style="background-color:rgb(60, 179, 113);"><b>Tips：</b></span></font><blockquote><font color="#ffffff"></font></blockquote><blockquote><font color="#ffffff"><span style="background-color:rgb(60, 179, 113);">重定向并不会影响 Cordova 里的 Gradle 下载依赖包。</span></font></blockquote><blockquote><br></blockquote><div><div style="text-align: left;"><div>仔细看这个错误，发现它跟最好开始用 google 仓库下载依赖包的错误十分类似：</div><blockquote></blockquote><div><div><div><img src="App_打包_开发问题记录_files/9e74d530-1b87-4e7f-9cd9-255c8c1f4c41.png"></div><div><br></div><div>不同的是，这个错误报错的项目名是 “<span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">CordovaLib</span>”， “classpath” 也变成“ :<span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">CordovaLib:classpath</span>”</div></div><div>从 2 个错误的 stack trace 看，虽然它们殊途，但是它们同归—— <span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">Connect to maven.google.com 超时</span>了。</div><div><br></div><div style="text-align: left;">可我<span data-wiz-span="data-wiz-span">不是都给 </span><span style="" data-wiz-span="data-wiz-span">Cordova </span><span data-wiz-span="data-wiz-span">根目录和 a</span>pp 目录下的 build.gradle 都配了仓库的吗？为什么还跑去下这玩意？而且这玩意都下过了，为什么还要下呢？</div><div><div>翻看项目下的文件，发现在 <span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">CordovaLib </span>下还有一个 <span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">build.gradle</span>，里面还是原始的 <span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">google</span>&nbsp;<span style="">仓库。<span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">问题根源</span>应该就是这儿了。</span></div><div><span style="">与此同时，我通过实际测试，发现了在 <span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">app </span>的 <span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">build.gradle</span> 中有对 <span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">CordovaLib </span>的引用——“<span data-wiz-span="data-wiz-span" style="color: rgb(255, 104, 32);">impementation project(path: "CordovaLib")</span>”，想必这就是会执行 CordovaLib 中 build.gradle 的原因。</span><span style="">那么问题基本就是这个 build.gradle 的 google 仓库引起的了。</span></div><div><span style=""><div><div><div>于是修改此处 google、jcenter 仓库，再试一次，成功，完成后续所有<span>依赖包的</span>下载。</div></div></div><div>恭喜！</div><div><div>这样一来，这个问题的原因可以用下图表示：</div><div style="text-align: center;"><img src="App_打包_开发问题记录_files/70f8464d-0aa2-41f5-b408-c20f63fe80b7.png"></div><div style="text-align: center;">图 - 问题原因追溯图</div><div><br></div></div></span></div><div>不过有一点让人搞不明白的，为什么 com.android.tools.build:gradle:3.0.1 这个包我指定过阿里仓库，应该也下过了，可是为什么在 CordovaLib 这里还要再指定、再下一次呢？</div><div><br></div></div></div><div><br></div><div><br></div></div><div style="text-align: left;"><span style="font-size: 1.5rem;" data-wiz-span="data-wiz-span"><b>2.2、分析结论：</b></span></div><div style="text-align: left;"><span style="">CordovaLib 下的 build.gradle 的仓库地址没改。</span></div><div style="text-align: left;"><span style=""><br></span></div><div style="text-align: left;"><br></div><div style="text-align: left;"><span style=""><br></span></div><div style="text-align: left;"><b><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">3、问题 解法：</span></b></div><div style="text-align: left;"><div style=""><span>CordovaLib 下的 build.gradle 的仓库地址改为阿里云的 google、jcenter 仓库。</span></div><br></div><div style="text-align: left;"><span style=""><br></span></div><div style="text-align: left;"><span style=""><br></span></div><div style="text-align: left;"><br></div></div><div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><h1>问题：You have not accepted the license agreements</h1><div><br></div><div><br></div><div><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;"><b>1、问题描述：</b></span></div><div><div>上面的 CordovaLib 引起的问题解决后，接着又遇到了 license agreements 问题，错误信息如下：</div></div></div><div data-mode="Shell" data-theme="eclipse"  id="wiz_cm_1638885121079_494" class="wiz-code-container"><textarea style="display: none;">You have not accepted the license agreements of the following SDK components: [Android SDK Platform 27].</textarea><wiz_code_mirror><div class="CodeMirror cm-s-eclipse" data-id="wiz_cm_1638885121079_494"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 20px; left: 34px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class=" wiz-hide wiz_CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class=" wiz-hide wiz_CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 0px; left: 0px; height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 838px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 32px; min-width: 807.547px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like"></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div style="position: relative;" class="CodeMirror-activeline"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">You have not accepted the license agreements of the following SDK components: [Android SDK Platform <span class="cm-number">27</span>].</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 32px;"></div><div class="CodeMirror-gutters" style="height: 62px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><div><blockquote><blockquote><blockquote><div><div>译：没接受下列 SDK 组件的许可协议：[Android SDK Platform 27] <span data-wiz-span="data-wiz-span" style="background-color:rgb(255, 0, 0);">。（我们不是安装过吗？我们安装的是 26）</span></div></div><div><br></div></blockquote></blockquote></blockquote><div style="text-align: left;"><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">2、问题原因：</span></b></div><div><br></div><div><span data-wiz-span="data-wiz-span" style="font-size: 1.5rem;"><b>2.1、原因分析：</b></span></div><div>这个错误似曾相识，用该错误在有道笔记搜索发现，在<span style="">有道笔记</span></div></div><blockquote style=""><div><div><span style="">&nbsp;</span><span style=""><u>《2020.01.12&nbsp; 打包App》</u></span></div></div><blockquote style=""><blockquote style=""><div><div><span style="">之<u>《紧随问题：You have not accepted the license agreements of the following SDK component》</u></span></div></div></blockquote></blockquote></blockquote><blockquote style=""><blockquote style=""></blockquote></blockquote><blockquote style=""></blockquote><div>中<span style="">发现相同问题，里面记录了原因和解法。</span></div><div><div><br></div><div><br></div><div style="text-align: left;"><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.5rem;">2.2、分析结论：</span></b></div></div><blockquote></blockquote><div><span style="">这</span><span style="">错误的</span><span style="">意思是你要安装 SDK 27（API）这个组件到 SDK 环境中。</span><span style="">不过提示这说得也太委婉（操蛋）了。</span><br></div><div><div><span><br></span></div><div><span><br></span></div><div style="text-align: left;"><span><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">3、问题解法：</span></b></span></div><div><span style="">用 SDK Manager 安装该版本 SDK 即可。</span></div><div><span style="">如下图，这就是错误它所说的“accepted the license agreements”的意思，其实就是叫你下载。</span><br></div><div><div style="text-align: center;"><img src="App_打包_开发问题记录_files/9e746f1b-eb6c-49e3-a8da-48463aafb0bc.png"></div><div style="text-align: center;">图 - accepted the license agreements</div><div><br></div></div><div><br></div><blockquote><br></blockquote><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><h1>问题：A problem occurred evaluating project ':app'.</h1><blockquote><br></blockquote><div><b style="font-size: 1.667rem;">1、问题描述：</b></div></div><div style="text-align: left;"><span data-wiz-span="data-wiz-span">解决上面 SDK 许可协议（license agreements）问题后，接着又遇到 compileSdkVersion 没被指定的错误，</span><span style="">错误信息如下：</span></div><div><b style="font-size: 1.667rem;"><div><blockquote></blockquote></div></b></div><div data-mode="Shell" data-theme="eclipse"  id="wiz_cm_1638894662974_4800" class="wiz-code-container"><textarea style="display: none;">* What went wrong:
A problem occurred evaluating project ':app'.
&gt; Could not read script 'D:\2_Job\2_Code\01_Software_Project_Workspace\MOM_Project_Workspace\Cellphone_App\app-packa
ge-toolkit\platforms\android\CordovaLib\cordova.gradle' as it does not exist.</textarea><wiz_code_mirror><div class="CodeMirror cm-s-eclipse" data-id="wiz_cm_1638894662974_4800"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 20px; left: 34px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class=" wiz-hide wiz_CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class=" wiz-hide wiz_CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 0px; left: 0px; height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 930px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 104px; min-width: 899.891px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like"></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>4</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div style="position: relative;" class="CodeMirror-activeline"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">* What went wrong:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">A problem occurred evaluating project <span class="cm-string">':app'</span>.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">&gt; Could not read script <span class="cm-string">'D:\2_Job\2_Code\01_Software_Project_Workspace\MOM_Project_Workspace\Cellphone_App\app-packa</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">ge-toolkit\platforms\android\CordovaLib\cordova.gradle'</span> as it does not exist.</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 104px;"></div><div class="CodeMirror-gutters" style="height: 134px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><blockquote><br></blockquote><b style=""></b><div><b style=""><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;">2、问题原因：</span></b></div><div><b style=""><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;"><div style="font-size: 1rem;"><b><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;"><b style="font-size:1rem;"><span data-wiz-span="data-wiz-span" style="font-size:1.5rem;"><b><br>2.1、原因分析：</b></span></b></span></b></div></span></b></div><div><span data-wiz-span="data-wiz-span">查有道笔记发现，以前没遇到过。只能分析错误日志了。</span></div><div><span data-wiz-span="data-wiz-span">从错误日志提示的路径来看，明明路径里的 CordovaLib 本应该是 CordovaLib222，但它没变。这样看来问题原因基本是这个原因了。<br></span></div><div style="text-align: left;"><span data-wiz-span="data-wiz-span">那就把之前改名称 CordovaLib 为 CordovaLib222<span>&nbsp;</span>的地方都还原吧。</span></div><div style="text-align: left;"><span data-wiz-span="data-wiz-span">要还原的地方除了目录名，还要 “/project.properties” 里的名字。</span></div><div style="text-align: left;"><span data-wiz-span="data-wiz-span" style=""><div style=""><span data-wiz-span="data-wiz-span" style=""><div style=""><span data-wiz-span="data-wiz-span">还原后错误解决。</span><span style="">重新 build，打包工作终于完成。</span></div></span></div></span></div><div>Congratulations！！<img src="App_打包_开发问题记录_files/em20.gif"><div style="text-align: left;"><span data-wiz-span="data-wiz-span" style=""><div style=""><span data-wiz-span="data-wiz-span" style=""><div style=""><blockquote><br></blockquote></div></span></div></span></div><div><b style=""><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;"><b style="font-size: 1rem;"><span data-wiz-span="data-wiz-span" style="font-size:1.5rem;">2.2、分析结论：</span></b></span></b></div><div><span style="">之前做测试时改名称 CordovaLib 为<span>&nbsp;</span></span><span style="">CordovaLib222<span>&nbsp;了，但是这个程序没有用改名的 CordovaLib。</span></span></div><div><br></div><div><br></div><div><b style=""><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;"><b style="font-size: 1rem;"><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;">3、问题解法：</span></b></span></b></div><div><blockquote></blockquote></div><div><blockquote></blockquote><div>把改了 CordovaLib 名字的地方全都还原。</div><blockquote><div><br></div></blockquote><blockquote></blockquote></div></div><blockquote><blockquote><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div></blockquote><div><br></div><div><br></div><div><br></div></blockquote><h1>问题：App 登录到主页时报 API 兼容性问题</h1><div><span style=""><br></span></div><div style="text-align: left;"><span style=""><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">1、问题描述：</span></b></span></div><div><span style="">如下图，App 打包好后，登录到主页时，页面弹窗报错：</span></div><blockquote style=""><div><span style="background-color:rgb(212, 212, 212)" data-wiz-span="data-wiz-span">Detected problems with API compatibility。</span></div></blockquote><div><span style="">页面但是页面功能基本都正常，点击确定关闭报错窗口后，各个页面都能正常打开。</span></div><div><div style="text-align: center;"><img src="App_打包_开发问题记录_files/f1f3eff0-2a6c-4b67-8250-a87a43fd3aed.jpg"></div><div><br></div></div><div><span style=""><br></span></div><div style="text-align: left;"><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">2、问题原因：</span></b></div><div><span data-wiz-span="data-wiz-span" style="font-size: 1.5rem;"><b>2.1、原因分析：</b></span></div><blockquote style=""></blockquote><div>网上说是 Android P 后谷歌限制了开发者调用非官方公开API 方法或接口。但我并没有用&nbsp;<span style="">Android P 的 API， 我用的是 </span><span style="">Android<span>&nbsp;</span></span><span style="">27 的 API。</span></div><div><span style="color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;">Android P 到底是什么呢？难道不是&nbsp;<span style="font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;">Android Preview 吗？</span></span></div><div><span style="color:rgb(77, 77, 77);font-family:-apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif">其实 Android P 就是 Android 9.0，对应的 API 是 28 。</span></div><div><font color="#4d4d4d" face="-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif">打包工具指定的 Android API 是 27，为什么它会变成 28 呢？</font></div><div><font color="#4d4d4d" face="-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif">我们在编译的 App 的时候，操作是这样的，remove Android platform 后再 add，再 build，中间没有其他过程，没有用打包工具的脚本。</font></div><div><font color="#4d4d4d" face="-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif">那么我们用打包工具的脚本再打包一遍。</font></div><div><font color="#4d4d4d" face="-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif">这个问题消失了。</font></div><div><font color="#4d4d4d" face="-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif"><br></font></div><div style="text-align: left;"><font face="-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif"><span style="font-size:1.5rem" data-wiz-span="data-wiz-span"><b>2.2、分析结论：</b></span></font></div><blockquote style=""></blockquote><div><font color="#4d4d4d" face="-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif">由上述实验可以推测，该报错应该是手动下载 Android platform 时，自动下载最新的版本，结果下载了 API 28 版本引发的。</font></div><div><font color="#4d4d4d" face="-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif"><br></font></div><div><font color="#4d4d4d" face="-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif"><br></font></div><div style="text-align: left;"><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">3、问题解法：</span></b></div><blockquote style=""></blockquote><div>使用打包工具的脚本再打包一遍，让其指定 platform 的版本为 API 27 版本的。</div><div><br></div><div><br></div><div><br></div><div style="text-align: left;"><b style=""><span data-wiz-span="data-wiz-span" style="font-size: 1.667rem;">4、Ref：</span></b></div><div><a href="https://blog.csdn.net/codekxx/article/details/86507470">《csdn - 解决在Android P上的提醒弹窗 （Detected problems with API compatibility(visit g.co/dev/appcompat for more info)》</a></div><div><a href="https://baike.baidu.com/item/Android%209.0/22367289?fromtitle=Android%20P&amp;fromid=22419279&amp;fr=aladdin">《百度 - Android 9.0》</a></div><div><a href="https://developer.android.com/guide/app-compatibility/restrictions-non-sdk-interfaces">《android - Restrictions on non-SDK interfaces》</a></div><div><br></div><div><br></div><div><blockquote></blockquote></div><div><h1 class="title-article" id="articleContentId" style="font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 1.75rem; color: rgb(34, 34, 38);"></h1></div>
   <script type="text/javascript">
      /**
      * 让 iframe 中的 <a> 打开新页面
      */
      let aDoms = document.getElementsByTagName("a")
      for ( let aDom of aDoms ) {
      let oldHref = aDom.href;
      let newHref = "javascript:window.open('" + oldHref + "')";
      // console.info("aDom", aDom);
      aDom.href = newHref;
      }
   </script>
</body></html>